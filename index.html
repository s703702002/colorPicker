<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>colorPicker</title>
    <script
    src="https://code.jquery.com/jquery-3.3.1.min.js"
    integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>
    <style>
    html,body{
        height: 100%;
        margin: 0;
        padding: 0;
        background-color: black;
    }
    #show{
        width: 200px;
        height: 200px;;
    }
    #color-bar{
        position: absolute;
        top: 100px;
        height: 8px;
        width: 300px;
        background: linear-gradient(to right,hsl(0,100%,50%),hsl(60,100%,50%),hsl(120,100%,50%),hsl(180,100%,50%),hsl(240,100%,50%),hsl(300,100%,50%),hsl(360,100%,50%));
        border-radius: 20px;
    }
    #brightness-bar, #saturation-bar{
        height: 10px;
        width: 200px;
        margin-top: 10px;
    }
    </style>
</head>
<body>
    <div id="colorPicker">
        <div id="show"></div>
        <div id="brightness-bar"></div>
        <div id="saturation-bar"></div>
    </div>
    <!-- <div id="color-bar"></div> -->
</body>
<script>

const show = $('#show');
const brightBar = $('#brightness-bar');
const saturationBar = $('#saturation-bar');
const width = show.width();
const height = show.height();

let saturation = '100%',
    lightness = '50%';

show.on('mousemove',(e)=>{

    // 圓心
    const x1 = width / 2;
    const y1 = height / 2 ;

    const x2 = e.offsetX - x1;
    const y2 = y1 - e.offsetY ;

    const theta = 90 - Math.floor ( Math.atan2(y2,x2) / Math.PI * 180 );

    let colorSet = `hsl(${theta}, ${saturation}, ${lightness})`;

    show.css('background-color', colorSet);
    saturationBar.css('background', `linear-gradient(to left, ${colorSet}, hsl(${theta}, 0%, 50%))`);
    brightBar.css('background', `linear-gradient(to left, ${colorSet}, hsl(${theta}, 100%, 0%))`);
})

</script>
</html>